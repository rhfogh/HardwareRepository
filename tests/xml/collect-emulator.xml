<object class="MultiCollectEmulator">

  <!-- First part must mirror collect-mockup.xml -->
  <object href="/transmission-mockup" role="transmission"/>
  <object href="/diffractometer-mockup" role="diffractometer"/>
  <object href="/sc-mockup" role="sample_changer"/>
  <object href="/resolution-mockup" role="resolution"/>
  <object href="/energy-mockup" role="energy"/>
  <object href="/lims-client-mockup" role="dbserver"/>

  <auto_processing>
    <program>
      <executable>none_present_executable</executable>
      <event>after</event>
    </program>
  </auto_processing>

  <directory_prefix>emulator</directory_prefix>

  <!-- From here on specific to emulator -->

  <!-- Name of test sample to use - source of input parameter file -->
  <sample_name>4k61</sample_name>

  <!-- All simcal_parameters are passed to the simcal input namelist file -->
  <!-- See Simcal documentation for more parameters and options -->
  <simcal_parameters>
    <!-- Simcal bacground noise level -->
    <background>2.0</background>
    <!-- Number of rays for simcal ray tracing (2000 minimum for testing, 5000 for use-->
    <n_rays>2001</n_rays>
    <!-- Intensity generation mode - 0 means read directly from hkli file -->
    <gen_mode>0</gen_mode>
    <!-- sim_mode 0 turns off threaded calculation for multi-segment detectors -->
    <sim_mode>1</sim_mode>
  </simcal_parameters>

  <!-- NB - these options are prefixed with a double hyphen -->
  <simcal_options>
    <!-- Simcal memory pool option, in Gb - should be 50-66% of available memory -->
    <memory-pool>9</memory-pool>
  </simcal_options>

  <!-- Both thread number variables should be less than all available threads -->
  <!-- stack size taken from PK example - who knows what is best. -->
  <environment_variables>
    <OMP_STACKSIZE>16M</OMP_STACKSIZE>
    <OMP_THREAD_LIMIT>6</OMP_THREAD_LIMIT>
    <OMP_NUM_THREADS>6</OMP_NUM_THREADS>
  </environment_variables>
</object>
